"0","library(MASS)"
"0",""
"0","assess_res <- function(split, rec = NULL, ...) {"
"0","  if (!is.null(rec))"
"0","    mod_data <- juice(rec)"
"0","  else"
"0","    mod_data <- analysis(split)"
"0","  "
"0","  mod_fit <- qda(Class ~ ., data = mod_data)"
"0","  "
"0","  if (!is.null(rec))"
"0","    eval_data <- bake(rec, assessment(split))"
"0","  else"
"0","    eval_data <- assessment(split)"
"0","  "
"0","  eval_data <- eval_data "
"0","  predictions <- predict(mod_fit, eval_data)"
"0","  eval_data %>%"
"0","    mutate("
"0","      pred = predictions$class,"
"0","      prob = predictions$posterior[,1]"
"0","    ) %>%"
"0","    dplyr::select(Class, pred, prob)"
"0","}"
