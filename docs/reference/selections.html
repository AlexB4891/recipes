<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Methods for Select Variables in recipe Formulas — selections • recipes</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">recipes</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/1_Simple_Example.html">Simple Example</a>
</li>
<li>
  <a href="../articles/2_Selecting_Variables.html">Selecting Variables</a>
</li>
<li>
  <a href="../articles/3_Custom_Steps.html">Custom Steps</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/topepo/recipes">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Methods for Select Variables in recipe Formulas</h1>
    </div>

    
    <p>There are a few different methods for selecting variables or model terms using the <code>terms</code> argument for the <code>step</code> functions. The two main requirements are that 1) the value of the <code>terms</code> argument is a formula and 2) that does not contain functions beyond those supported (see below).</p>
<p>The formula is not processed until the <code>learn</code> function for the step is executed. Functions can be used inside of the formula that can select columns of the design matrix that may not currently exist. For example, when using <code>step_pca</code>, the number of columns created by feature extraction may not be known when subsequent steps are defined. In this case, using <code>contains("^PC")</code> will select all of the columns whose names start with "PC".</p>
<p>Standard formulas can be used where only the right-hand side is used (e.g. <code>~ x1 + x2 + x3</code>). Alternatively, select helpers from the <code>dplyr</code> package, such as <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>starts_with</a></code>, <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>ends_with</a></code>, <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>contains</a></code>, <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>matches</a></code>, <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>num_range</a></code>, <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/select_helpers'>everything</a></code>. As an example, <code>~ contains("x") + y + z</code> is valid.</p>
<p>However, these are the only functions that can be used in the formula. Using other functions will cause an error, such as  <code>~ contains("x") + y + log(z)</code>.</p>
<p>While plus signs between formula terms will add columns to the list, minus signs can also be used to exclude columns. For example,  <code>~ contains("x") - x1</code> would keep all of the columns containing "x" but would exclude any called "x1".</p>
<p>Finally, there are sets of functions that can be used to select variables based on their role or type: <code><a href='has_role.html'>has_role</a></code> and <code><a href='has_role.html'>has_type</a></code>. For convenience, there are also functions that are more specific: <code><a href='has_role.html'>numerics</a></code>, <code><a href='has_role.html'>nominals</a></code>, <code><a href='has_role.html'>predictors</a></code>, and <code><a href='has_role.html'>outcomes</a></code>. These can be used in conjunction with the previous functions described for selecting variables using their names.</p>
    

        

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
                </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Max Kuhn, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
