<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Holiday Feature Generator — step_holiday • recipes</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">recipes</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/1_Simple_Example.html">Simple Example</a>
</li>
<li>
  <a href="../articles/2_Selecting_Variables.html">Selecting Variables</a>
</li>
<li>
  <a href="../articles/3_Custom_Steps.html">Custom Steps</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/topepo/recipes">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Holiday Feature Generator</h1>
    </div>

    
    <p><code>step_holiday</code> creates a a <em>specification</em> of a recipe step that will convert date data into one or more binary indicator variables for common holidays.</p>
    

    <pre><span class='fu'>step_holiday</span>(<span class='no'>recipe</span>, <span class='no'>terms</span>, <span class='kw'>role</span> <span class='kw'>=</span> <span class='st'>"predictor"</span>, <span class='kw'>trained</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>holidays</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"LaborDay"</span>, <span class='st'>"NewYearsDay"</span>, <span class='st'>"ChristmasDay"</span>), <span class='kw'>variables</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>recipe</dt>
      <dd>A recipe object. The step will be added to the sequence of operations for this recipe.</dd>
      <dt>terms</dt>
      <dd>A representation of the variables or terms that will be used to create the new variables. The selected variables should have class <code>Date</code> or <code>POSIXct</code>.</dd>
      <dt>role</dt>
      <dd>For model terms created by this step, what analysis role should they be assigned?. By default, the function assumes that the new variable columns created by the original variables will be used as predictors in a model.</dd>
      <dt>trained</dt>
      <dd>A logical to indicate if the quantities for preprocessing have been estimated.</dd>
      <dt>holidays</dt>
      <dd>A character string that includes at least one holdiay supported by the <code>timeDate</code> package. See <code><a href='http://www.rdocumentation.org/packages/timeDate/topics/holiday-Listing'>listHolidays</a></code> for a complete list.</dd>
      <dt>variables</dt>
      <dd>A character string of variables that will be used as inputs. This field is a placeholder and will be populated once <code><a href='learn.html'>learn.recipe</a></code> is used.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>step_holiday</code> returns an object of class <code>step_holiday</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Unlike other steps, <code>step_holiday</code> does <em>not</em> remove the original date variables. <code><a href='step_rm.html'>step_rm</a></code> can be used for this purpose.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='step_date.html'>step_date</a></code> <code><a href='step_rm.html'>step_rm</a></code> <code><a href='recipe.html'>recipe</a></code> <code><a href='learn.html'>learn.recipe</a></code> <code><a href='process.html'>process.recipe</a></code> <code><a href='http://www.rdocumentation.org/packages/timeDate/topics/holiday-Listing'>listHolidays</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>lubridate</span>)
<span class='fu'>library</span>(<span class='no'>magrittr</span>)
<span class='no'>examples</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>someday</span> <span class='kw'>=</span> <span class='fu'>ymd</span>(<span class='st'>"2000-12-20"</span>) + <span class='fu'>days</span>(<span class='fl'>0</span>:<span class='fl'>40</span>))
<span class='no'>holiday_rec</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='recipe.html'>recipe</a></span>(~ <span class='no'>someday</span>, <span class='no'>examples</span>) <span class='kw'>%&gt;%</span>
   <span class='fu'>step_holiday</span>(~ <span class='fu'><a href='has_role.html'>predictors</a></span>())

<span class='no'>holiday_rec</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='learn.html'>learn</a></span>(<span class='no'>holiday_rec</span>, <span class='kw'>training</span> <span class='kw'>=</span> <span class='no'>examples</span>)</div><div class='output co'>#&gt; step 1 holiday training </div><div class='input'><span class='no'>holiday_values</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='process.html'>process</a></span>(<span class='no'>holiday_rec</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>examples</span>)
<span class='no'>holiday_values</span></div><div class='output co'>#&gt; # A tibble: 41 × 4
#&gt;       someday someday_LaborDay someday_NewYearsDay someday_ChristmasDay
#&gt;        &lt;date&gt;            &lt;dbl&gt;               &lt;dbl&gt;                &lt;dbl&gt;
#&gt; 1  2000-12-20                0                   0                    0
#&gt; 2  2000-12-21                0                   0                    0
#&gt; 3  2000-12-22                0                   0                    0
#&gt; 4  2000-12-23                0                   0                    0
#&gt; 5  2000-12-24                0                   0                    0
#&gt; 6  2000-12-25                0                   0                    1
#&gt; 7  2000-12-26                0                   0                    0
#&gt; 8  2000-12-27                0                   0                    0
#&gt; 9  2000-12-28                0                   0                    0
#&gt; 10 2000-12-29                0                   0                    0
#&gt; # ... with 31 more rows</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Max Kuhn, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
