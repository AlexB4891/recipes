<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create Dummy Variables using Regular Expressions — step_regex • recipes</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">recipes</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/Simple_Example.html">Simple Example</a>
</li>
<li>
  <a href="../articles/Selecting_Variables.html">Selecting Variables</a>
</li>
<li>
  <a href="../articles/Custom_Steps.html">Custom Steps</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/topepo/recipes">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create Dummy Variables using Regular Expressions</h1>
    </div>

    
    <p><code>step_regex</code> creates a <em>specification</em> of a recipe step that will
  create a new dummy variable based on a regular expression.</p>
    

    <pre class="usage"><span class='fu'>step_regex</span>(<span class='no'>recipe</span>, <span class='no'>...</span>, <span class='kw'>role</span> <span class='kw'>=</span> <span class='st'>"predictor"</span>, <span class='kw'>trained</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>options</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='kw'>result</span> <span class='kw'>=</span> <span class='fu'>make.names</span>(<span class='no'>pattern</span>),
  <span class='kw'>input</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>recipe</th>
      <td><p>A recipe object. The step will be added to the sequence of 
operations for this recipe.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A single selector functions to choose which variable will be
searched for the pattern. The selector should resolve into a single
variable. See <code><a href='selections.html'>selections</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>role</th>
      <td><p>For a variable created by this step, what analysis role should
they be assigned?. By default, the function assumes that the new dummy
variable column created by the original variable will be used as a
predictors in a model.</p></td>
    </tr>
    <tr>
      <th>trained</th>
      <td><p>A logical to indicate if the quantities for preprocessing 
have been estimated.</p></td>
    </tr>
    <tr>
      <th>pattern</th>
      <td><p>A character string containing a regular expression (or
character string for <code>fixed = TRUE</code>) to be matched in the given
character vector. Coerced by <code>as.character</code> to a character string
if possible.</p></td>
    </tr>
    <tr>
      <th>options</th>
      <td><p>A list of options to <code>grepl</code> that should not
include <code>x</code> or <code>pattern</code>.</p></td>
    </tr>
    <tr>
      <th>result</th>
      <td><p>A single character value for the name of the new variable. It
should be a valid column name.</p></td>
    </tr>
    <tr>
      <th>input</th>
      <td><p>A single character value for the name of the variable being
searched. This is <code>NULL</code> until computed by
<code><a href='prepare.html'>prepare.recipe</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>step_regex</code>  returns an object of class <code>step_regex</code>. A
  new variable will be created in the data set by
  <code><a href='bake.html'>bake.recipe</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>covers</span>)

<span class='no'>rec</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='recipe.html'>recipe</a></span>(~ <span class='no'>description</span>, <span class='no'>covers</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>step_regex</span>(<span class='no'>description</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"(rock|stony)"</span>, <span class='kw'>result</span> <span class='kw'>=</span> <span class='st'>"rocks"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>step_regex</span>(<span class='no'>description</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"ratake families"</span>)

<span class='no'>rec2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='prepare.html'>prepare</a></span>(<span class='no'>rec</span>, <span class='kw'>training</span> <span class='kw'>=</span> <span class='no'>covers</span>)</div><div class='output co'>#&gt; step 1 regex training 
#&gt; step 2 regex training </div><div class='input'><span class='no'>rec2</span></div><div class='output co'>#&gt; Data Recipe
#&gt; 
#&gt; Inputs:
#&gt; 
#&gt;       role #variables
#&gt;  predictor          1
#&gt; 
#&gt; Training data contained 40 data points and no missing data.
#&gt; 
#&gt; Steps:
#&gt; 
#&gt; Regular expression dummy variable using `(rock|stony)` [trained]
#&gt; Regular expression dummy variable using `ratake families` [trained]</div><div class='input'>
<span class='no'>with_dummies</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bake.html'>bake</a></span>(<span class='no'>rec2</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>covers</span>)
<span class='no'>with_dummies</span></div><div class='output co'>#&gt; # A tibble: 40 x 3
#&gt;                                                   description rocks
#&gt;                                                        &lt;fctr&gt; &lt;dbl&gt;
#&gt;  1    1,cathedral family,rock outcrop complex,extremely stony     1
#&gt;  2                 2,vanet,ratake families complex,very stony     1
#&gt;  3                 3,haploborolis,rock outcrop complex,rubbly     1
#&gt;  4                4,ratake family,rock outcrop complex,rubbly     1
#&gt;  5         5,vanet family,rock outcrop complex complex,rubbly     1
#&gt;  6        6,vanet,wetmore families,rock outcrop complex,stony     1
#&gt;  7                                            7,gothic family     0
#&gt;  8                       8,supervisor,limber families complex     0
#&gt;  9                             9,troutville family,very stony     1
#&gt; 10 10,bullwark,catamount families,rock outcrop complex,rubbly     1
#&gt; # ... with 30 more rows, and 1 more variables: ratake.families &lt;dbl&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Max Kuhn, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
